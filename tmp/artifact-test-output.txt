
> @veraxhq/verax@0.3.0 test
> node test/infrastructure/test-runner-wrapper.js test/release/artifact-registry.test.js

TAP version 13
# Subtest: Phase 6A: Cryptographic Integrity
    # Subtest: should compute file integrity (SHA256)
    ok 1 - should compute file integrity (SHA256)
      ---
      duration_ms: 6.6057
      type: 'test'
      ...
    # Subtest: should return error for non-existent file
    ok 2 - should return error for non-existent file
      ---
      duration_ms: 1.8489
      type: 'test'
      ...
    # Subtest: should generate integrity manifest for artifacts
    ok 3 - should generate integrity manifest for artifacts
      ---
      duration_ms: 8.7434
      type: 'test'
      ...
    # Subtest: should write integrity manifest atomically
    ok 4 - should write integrity manifest atomically
      ---
      duration_ms: 5.4573
      type: 'test'
      ...
    # Subtest: should verify artifact integrity against manifest
    ok 5 - should verify artifact integrity against manifest
      ---
      duration_ms: 4.8299
      type: 'test'
      ...
    # Subtest: should detect hash mismatch (tampering)
    ok 6 - should detect hash mismatch (tampering)
      ---
      duration_ms: 4.9542
      type: 'test'
      ...
    # Subtest: should detect size mismatch
    ok 7 - should detect size mismatch
      ---
      duration_ms: 4.7166
      type: 'test'
      ...
    # Subtest: should load integrity manifest
    ok 8 - should load integrity manifest
      ---
      duration_ms: 3.9741
      type: 'test'
      ...
    # Subtest: should verify all artifacts in manifest
    ok 9 - should verify all artifacts in manifest
      ---
      duration_ms: 6.8954
      type: 'test'
      ...
    # Subtest: should report all failed verifications
    ok 10 - should report all failed verifications
      ---
      duration_ms: 6.8864
      type: 'test'
      ...
    # Subtest: should discover JSON artifacts
    ok 11 - should discover JSON artifacts
      ---
      duration_ms: 7.1215
      type: 'test'
      ...
    # Subtest: should handle empty directory
    ok 12 - should handle empty directory
      ---
      duration_ms: 2.1505
      type: 'test'
      ...
    1..12
ok 1 - Phase 6A: Cryptographic Integrity
  ---
  duration_ms: 67.5193
  type: 'suite'
  ...
# Subtest: registry artifacts are written with contract metadata
not ok 2 - registry artifacts are written with contract metadata
  ---
  duration_ms: 1596.1566
  type: 'test'
  location: 'C:\\Users\\sabou\\verax\\test\\release\\artifact-registry.test.js:79:1'
  failureType: 'testCodeFailure'
  error: 'findings should include enforcement metadata'
  code: 'ERR_ASSERTION'
  name: 'AssertionError'
  expected: true
  actual: ~
  operator: '=='
  stack: |-
    TestContext.<anonymous> (file:///C:/Users/sabou/verax/test/release/artifact-registry.test.js:131:12)
    process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    async Test.run (node:internal/test_runner/test:1054:7)
    async startSubtestAfterBootstrap (node:internal/test_runner/harness:296:3)
  ...
# Subtest: Phase 6A: Transactional Artifacts
    # Subtest: should create staging directory
    ok 1 - should create staging directory
      ---
      duration_ms: 6.8087
      type: 'test'
      ...
    # Subtest: should clean up existing staging on create
    ok 2 - should clean up existing staging on create
      ---
      duration_ms: 6.9056
      type: 'test'
      ...
    # Subtest: should commit staging directory atomically
    ok 3 - should commit staging directory atomically
      ---
      duration_ms: 8.4905
      type: 'test'
      ...
    # Subtest: should fail commit if staging does not exist
    ok 4 - should fail commit if staging does not exist
      ---
      duration_ms: 2.6819
      type: 'test'
      ...
    # Subtest: should rollback staging directory
    ok 5 - should rollback staging directory
      ---
      duration_ms: 4.7791
      type: 'test'
      ...
    # Subtest: should handle rollback when staging does not exist
    ok 6 - should handle rollback when staging does not exist
      ---
      duration_ms: 4.331
      type: 'test'
      ...
    # Subtest: should get staging path
    ok 7 - should get staging path
      ---
      duration_ms: 2.262
      type: 'test'
      ...
    # Subtest: should get final path
    ok 8 - should get final path
      ---
      duration_ms: 1.6913
      type: 'test'
      ...
    # Subtest: should check if staging directory exists
    ok 9 - should check if staging directory exists
      ---
      duration_ms: 6.1528
      type: 'test'
      ...
    # Subtest: should list files in staging
    ok 10 - should list files in staging
      ---
      duration_ms: 6.5481
      type: 'test'
      ...
    # Subtest: should return empty list when staging does not exist
    ok 11 - should return empty list when staging does not exist
      ---
      duration_ms: 2.0574
      type: 'test'
      ...
    # Subtest: transactional workflow: write-commit
    ok 12 - transactional workflow: write-commit
      ---
      duration_ms: 7.5343
      type: 'test'
      ...
    # Subtest: transactional workflow: write-rollback
    ok 13 - transactional workflow: write-rollback
      ---
      duration_ms: 4.2676
      type: 'test'
      ...
    # Subtest: should replace existing artifacts directory on commit
    ok 14 - should replace existing artifacts directory on commit
      ---
      duration_ms: 10.3755
      type: 'test'
      ...
    1..14
ok 3 - Phase 6A: Transactional Artifacts
  ---
  duration_ms: 78.3802
  type: 'suite'
  ...
# Subtest: fully valid run ÔåÆ VALID
ok 4 - fully valid run ÔåÆ VALID
  ---
  duration_ms: 34.7927
  type: 'test'
  ...
# Subtest: missing artifact ÔåÆ INVALID
ok 5 - missing artifact ÔåÆ INVALID
  ---
  duration_ms: 18.6162
  type: 'test'
  ...
# Subtest: artifact without contractVersion ÔåÆ INVALID
ok 6 - artifact without contractVersion ÔåÆ INVALID
  ---
  duration_ms: 16.3823
  type: 'test'
  ...
# Subtest: findings with invalid CONFIRMED entry ÔåÆ INVALID
ok 7 - findings with invalid CONFIRMED entry ÔåÆ INVALID
  ---
  duration_ms: 21.0413
  type: 'test'
  ...
# Subtest: registry mismatch ÔåÆ INVALID
ok 8 - registry mismatch ÔåÆ INVALID
  ---
  duration_ms: 20.7373
  type: 'test'
  ...
# Subtest: only minor mismatch ÔåÆ VALID_WITH_WARNINGS
ok 9 - only minor mismatch ÔåÆ VALID_WITH_WARNINGS
  ---
  duration_ms: 23.9519
  type: 'test'
  ...
# Subtest: invalid JSON ÔåÆ INVALID
ok 10 - invalid JSON ÔåÆ INVALID
  ---
  duration_ms: 20.348
  type: 'test'
  ...
# Subtest: missing required fields in findings ÔåÆ INVALID
ok 11 - missing required fields in findings ÔåÆ INVALID
  ---
  duration_ms: 18.6033
  type: 'test'
  ...
# Subtest: evidence directory missing ÔåÆ WARNING (non-blocking)
ok 12 - evidence directory missing ÔåÆ WARNING (non-blocking)
  ---
  duration_ms: 19.7139
  type: 'test'
  ...
# Subtest: enforcement summary is computed correctly
ok 13 - enforcement summary is computed correctly
  ---
  duration_ms: 21.7452
  type: 'test'
  ...
# Subtest: CLI EXIT CODE CONTRACT
    # Subtest: Exit code 0: --help flag
    ok 1 - Exit code 0: --help flag
      ---
      duration_ms: 1473.3996
      type: 'test'
      ...
    # Subtest: Exit code 0: --version flag
    ok 2 - Exit code 0: --version flag
      ---
      duration_ms: 1240.2452
      type: 'test'
      ...
    # Subtest: Exit code 64: run without required --url
    ok 3 - Exit code 64: run without required --url
      ---
      duration_ms: 1158.6283
      type: 'test'
      ...
    # Subtest: Exit code 65: inspect non-existent path
    ok 4 - Exit code 65: inspect non-existent path
      ---
      duration_ms: 1193.3441
      type: 'test'
      ...
    1..4
ok 14 - CLI EXIT CODE CONTRACT
  ---
  duration_ms: 5156.0294
  type: 'test'
  ...
# Subtest: CLI run command
    # Subtest: run command executes successfully with valid URL
    ok 1 - run command executes successfully with valid URL
      ---
      duration_ms: 1520.8318
      type: 'test'
      ...
    # Subtest: run command with --json outputs valid JSON
    ok 2 - run command with --json outputs valid JSON
      ---
      duration_ms: 1247.0495
      type: 'test'
      ...
    # Subtest: run command fails with missing URL
    ok 3 - run command fails with missing URL
      ---
      duration_ms: 1170.0515
      type: 'test'
      ...
    1..3
ok 15 - CLI run command
  ---
  duration_ms: 3972.5761
  type: 'suite'
  ...
# Subtest: Artifact path consistency
    # Subtest: artifacts always go to .verax/runs/<runId>/
    ok 1 - artifacts always go to .verax/runs/<runId>/
      ---
      duration_ms: 13.6494
      type: 'test'
      ...
    1..1
ok 16 - Artifact path consistency
  ---
  duration_ms: 13.8793
  type: 'suite'
  ...
# Subtest: MANDATORY OUTPUT FORMAT: confidence has score, level, explain, factors
ok 17 - MANDATORY OUTPUT FORMAT: confidence has score, level, explain, factors
  ---
  duration_ms: 4.9595
  type: 'test'
  ...
# Subtest: HARD RULE: HIGH level requires PROVEN expectation AND all sensors
ok 18 - HARD RULE: HIGH level requires PROVEN expectation AND all sensors
  ---
  duration_ms: 1.0448
  type: 'test'
  ...
# Subtest: DETERMINISM: Same inputs produce identical outputs across runs
ok 19 - DETERMINISM: Same inputs produce identical outputs across runs
  ---
  duration_ms: 3.8929
  type: 'test'
  ...
# Subtest: PENALTY: Missing sensors incurs -15 penalty
ok 20 - PENALTY: Missing sensors incurs -15 penalty
  ---
  duration_ms: 1.1463
  type: 'test'
  ...
# Subtest: PENALTY: Not PROVEN expectation incurs -10 penalty
ok 21 - PENALTY: Not PROVEN expectation incurs -10 penalty
  ---
  duration_ms: 0.7418
  type: 'test'
  ...
# Subtest: EVIDENCE SIGNALS: urlChanged extracted correctly
ok 22 - EVIDENCE SIGNALS: urlChanged extracted correctly
  ---
  duration_ms: 0.61
  type: 'test'
  ...
# Subtest: EVIDENCE SIGNALS: domChanged extracted correctly
ok 23 - EVIDENCE SIGNALS: domChanged extracted correctly
  ---
  duration_ms: 0.4101
  type: 'test'
  ...
# Subtest: EVIDENCE SIGNALS: networkFailed extracted correctly
ok 24 - EVIDENCE SIGNALS: networkFailed extracted correctly
  ---
  duration_ms: 1.4051
  type: 'test'
  ...
# Subtest: EVIDENCE SIGNALS: consoleErrors extracted correctly
ok 25 - EVIDENCE SIGNALS: consoleErrors extracted correctly
  ---
  duration_ms: 1.0445
  type: 'test'
  ...
# Subtest: BOOSTS: network_silent_failure adds boost for network failure
ok 26 - BOOSTS: network_silent_failure adds boost for network failure
  ---
  duration_ms: 1.252
  type: 'test'
  ...
# Subtest: BOOSTS: no_effect_silent_failure adds boosts for URL/DOM not changed
ok 27 - BOOSTS: no_effect_silent_failure adds boosts for URL/DOM not changed
  ---
  duration_ms: 2.0842
  type: 'test'
  ...
# Subtest: SCORE CLAMPING: Score never exceeds 100
ok 28 - SCORE CLAMPING: Score never exceeds 100
  ---
  duration_ms: 2.1409
  type: 'test'
  ...
# Subtest: SCORE CLAMPING: Score never goes below 0
ok 29 - SCORE CLAMPING: Score never goes below 0
  ---
  duration_ms: 0.3466
  type: 'test'
  ...
# Subtest: LEVEL MAPPING: score < 55 => LOW
ok 30 - LEVEL MAPPING: score < 55 => LOW
  ---
  duration_ms: 0.42
  type: 'test'
  ...
# Subtest: LEVEL MAPPING: 55 <= score < 80 => MEDIUM
ok 31 - LEVEL MAPPING: 55 <= score < 80 => MEDIUM
  ---
  duration_ms: 0.2741
  type: 'test'
  ...
# Subtest: LEVEL MAPPING: score >= 80 with PROVEN + allSensors => HIGH
ok 32 - LEVEL MAPPING: score >= 80 with PROVEN + allSensors => HIGH
  ---
  duration_ms: 0.3048
  type: 'test'
  ...
# Subtest: EXPLAIN ARRAY: ordered by importance (penalties first, then boosts)
ok 33 - EXPLAIN ARRAY: ordered by importance (penalties first, then boosts)
  ---
  duration_ms: 0.4602
  type: 'test'
  ...
# Subtest: EXPECTATION STRENGTH: proof=PROVEN_EXPECTATION => "PROVEN"
ok 34 - EXPECTATION STRENGTH: proof=PROVEN_EXPECTATION => "PROVEN"
  ---
  duration_ms: 0.3245
  type: 'test'
  ...
# Subtest: EXPECTATION STRENGTH: sourceRef present => "PROVEN"
ok 35 - EXPECTATION STRENGTH: sourceRef present => "PROVEN"
  ---
  duration_ms: 0.2728
  type: 'test'
  ...
# Subtest: EXPECTATION STRENGTH: no metadata => "UNKNOWN"
ok 36 - EXPECTATION STRENGTH: no metadata => "UNKNOWN"
  ---
  duration_ms: 0.2268
  type: 'test'
  ...
# Subtest: NO PLACEHOLDERS: All fields are concrete values, not TODOs
ok 37 - NO PLACEHOLDERS: All fields are concrete values, not TODOs
  ---
  duration_ms: 0.3452
  type: 'test'
  ...
# Subtest: TYPE-SPECIFIC SCORING: validation_silent_failure awards boost for console errors
ok 38 - TYPE-SPECIFIC SCORING: validation_silent_failure awards boost for console errors
  ---
  duration_ms: 0.5797
  type: 'test'
  ...
# Subtest: TYPE-SPECIFIC SCORING: missing_feedback_failure awards boost for slow requests
ok 39 - TYPE-SPECIFIC SCORING: missing_feedback_failure awards boost for slow requests
  ---
  duration_ms: 0.5581
  type: 'test'
  ...
# Subtest: TYPE-SPECIFIC SCORING: missing_network_action awards boost for PROVEN expectation
ok 40 - TYPE-SPECIFIC SCORING: missing_network_action awards boost for PROVEN expectation
  ---
  duration_ms: 0.5868
  type: 'test'
  ...
# Subtest: TYPE-SPECIFIC SCORING: missing_state_action awards boost for PROVEN expectation
ok 41 - TYPE-SPECIFIC SCORING: missing_state_action awards boost for PROVEN expectation
  ---
  duration_ms: 0.4846
  type: 'test'
  ...
# Subtest: Confidence System - determinism
ok 42 - Confidence System - determinism
  ---
  duration_ms: 5.6241
  type: 'test'
  ...
# Subtest: Confidence System - sensitivity to promise strength
ok 43 - Confidence System - sensitivity to promise strength
  ---
  duration_ms: 0.8397
  type: 'test'
  ...
# Subtest: Confidence System - sensitivity to observation strength
ok 44 - Confidence System - sensitivity to observation strength
  ---
  duration_ms: 0.5382
  type: 'test'
  ...
# Subtest: Confidence System - guardrails and contradictions
ok 45 - Confidence System - guardrails and contradictions
  ---
  duration_ms: 0.4471
  type: 'test'
  ...
# Subtest: Confidence System - evidence completeness
ok 46 - Confidence System - evidence completeness
  ---
  duration_ms: 1.3831
  type: 'test'
  ...
# Subtest: Confidence System - level determination
ok 47 - Confidence System - level determination
  ---
  duration_ms: 0.6374
  type: 'test'
  ...
# Subtest: Confidence System - computeConfidenceForFinding wrapper
ok 48 - Confidence System - computeConfidenceForFinding wrapper
  ---
  duration_ms: 3.1086
  type: 'test'
  ...
# Subtest: Confidence System - reason code stability
ok 49 - Confidence System - reason code stability
  ---
  duration_ms: 2.3401
  type: 'test'
  ...
# ÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉ
# EVIDENCE LAW DEMONSTRATION
# ÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉ
# Input Finding:
#   Status: CONFIRMED (CONFIRMED)
#   Evidence: {} (EMPTY - INVALID)
# Expected Result:
#   Status should be downgraded to: SUSPECTED
#   Reason: Evidence Law enforced - no evidence exists for CONFIRMED status
# Actual Result:
#   Status: SUSPECTED
#   Evidence: {}
#   Enforcement Note: Evidence Law enforced - no evidence exists for CONFIRMED status
# Ô£ô Evidence Law enforced: CONFIRMED findings without evidence are downgraded to SUSPECTED
# ÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉ
# Subtest: writeFindings: valid finding is written to artifact
ok 50 - writeFindings: valid finding is written to artifact
  ---
  duration_ms: 13.6184
  type: 'test'
  ...
# Subtest: writeFindings: artifact includes contractVersion field
ok 51 - writeFindings: artifact includes contractVersion field
  ---
  duration_ms: 4.5046
  type: 'test'
  ...
# Subtest: writeFindings: artifact includes enforcement metadata
ok 52 - writeFindings: artifact includes enforcement metadata
  ---
  duration_ms: 4.6167
  type: 'test'
  ...
# Subtest: writeFindings: finding without evidence is downgraded in artifact
ok 53 - writeFindings: finding without evidence is downgraded in artifact
  ---
  duration_ms: 5.395
  type: 'test'
  ...
# Subtest: writeFindings: critically invalid finding is dropped from artifact
ok 54 - writeFindings: critically invalid finding is dropped from artifact
  ---
  duration_ms: 5.5437
  type: 'test'
  ...
# Subtest: writeFindings: mixed valid, downgraded, and dropped findings are handled correctly
ok 55 - writeFindings: mixed valid, downgraded, and dropped findings are handled correctly
  ---
  duration_ms: 6.2924
  type: 'test'
  ...
# Subtest: writeFindings: outcome summary uses enforced findings
ok 56 - writeFindings: outcome summary uses enforced findings
  ---
  duration_ms: 6.1701
  type: 'test'
  ...
# Subtest: writeFindings: downgrade includes detailed reason
ok 57 - writeFindings: downgrade includes detailed reason
  ---
  duration_ms: 5.1451
  type: 'test'
  ...
# Subtest: writeFindings: artifact remains valid JSON format
ok 58 - writeFindings: artifact remains valid JSON format
  ---
  duration_ms: 5.921
  type: 'test'
  ...
# Subtest: writeFindings: backward compatible with version field
ok 59 - writeFindings: backward compatible with version field
  ---
  duration_ms: 7.1983
  type: 'test'
  ...
# Subtest: DEMO: Invalid finding is visibly downgraded to SUSPECTED
ok 60 - DEMO: Invalid finding is visibly downgraded to SUSPECTED
  ---
  duration_ms: 6.406
  type: 'test'
  ...
# Subtest: detect finds silent failure when expected navigation does not occur
ok 61 - detect finds silent failure when expected navigation does not occur
  ---
  duration_ms: 29.4382
  type: 'test'
  ...
# Subtest: detect does not report failure when navigation occurs
ok 62 - detect does not report failure when navigation occurs
  ---
  duration_ms: 19.0414
  type: 'test'
  ...
# Subtest: detect does not report failure when visible change occurs
ok 63 - detect does not report failure when visible change occurs
  ---
  duration_ms: 17.7881
  type: 'test'
  ...
# Subtest: detect generates findings.json with correct schema
ok 64 - detect generates findings.json with correct schema
  ---
  duration_ms: 21.5311
  type: 'test'
  ...
# Subtest: PHASE 4: Determinism & Reproducibility
    # Subtest: Core Determinism Model
        # Subtest: should initialize with deterministic state by default
        ok 1 - should initialize with deterministic state by default
          ---
          duration_ms: 4.6359
          type: 'test'
          ...
        # Subtest: should export determinism object in toAnalysisObject()
        ok 2 - should export determinism object in toAnalysisObject()
          ---
          duration_ms: 1.4895
          type: 'test'
          ...
        # Subtest: should record determinism factors without duplicates
        ok 3 - should record determinism factors without duplicates
          ---
          duration_ms: 2.7816
          type: 'test'
          ...
        # Subtest: should classify TIMEOUT_RISK as NON_DETERMINISTIC
        ok 4 - should classify TIMEOUT_RISK as NON_DETERMINISTIC
          ---
          duration_ms: 0.9586
          type: 'test'
          ...
        # Subtest: should classify ASYNC_DOM as CONTROLLED_NON_DETERMINISTIC
        ok 5 - should classify ASYNC_DOM as CONTROLLED_NON_DETERMINISTIC
          ---
          duration_ms: 1.1905
          type: 'test'
          ...
        # Subtest: should prioritize NON_DETERMINISTIC over CONTROLLED
        ok 6 - should prioritize NON_DETERMINISTIC over CONTROLLED
          ---
          duration_ms: 0.5832
          type: 'test'
          ...
        1..6
    ok 1 - Core Determinism Model
      ---
      duration_ms: 14.1508
      type: 'suite'
      ...
    # Subtest: Determinism Factor Recording
        # Subtest: should record TIMEOUT_RISK when recordTimeout() is called
        ok 1 - should record TIMEOUT_RISK when recordTimeout() is called
          ---
          duration_ms: 0.9809
          type: 'test'
          ...
        # Subtest: should classify all non-deterministic factors correctly
        ok 2 - should classify all non-deterministic factors correctly
          ---
          duration_ms: 0.9207
          type: 'test'
          ...
        # Subtest: should classify all controlled factors correctly
        ok 3 - should classify all controlled factors correctly
          ---
          duration_ms: 0.8009
          type: 'test'
          ...
        1..3
    ok 2 - Determinism Factor Recording
      ---
      duration_ms: 3.4656
      type: 'suite'
      ...
    # Subtest: Run Comparison
        # Subtest: should mark comparison as not comparable when no previous runs exist
        ok 1 - should mark comparison as not comparable when no previous runs exist
          ---
          duration_ms: 23.47
          type: 'test'
          ...
        # Subtest: should compare with most recent previous run
        ok 2 - should compare with most recent previous run
          ---
          duration_ms: 59.9674
          type: 'test'
          ...
        # Subtest: should detect when findings differ between runs
        ok 3 - should detect when findings differ between runs
          ---
          duration_ms: 11.2359
          type: 'test'
          ...
        # Subtest: should detect when counts differ between runs
        ok 4 - should detect when counts differ between runs
          ---
          duration_ms: 12.2717
          type: 'test'
          ...
        # Subtest: should update reproducible flag for CONTROLLED_NON_DETERMINISTIC with matching runs
        not ok 5 - should update reproducible flag for CONTROLLED_NON_DETERMINISTIC with matching runs
          ---
          duration_ms: 19.7302
          type: 'test'
          location: 'C:\\Users\\sabou\\verax\\test\\release\\determinism-baseline.test.js:216:5'
          failureType: 'testCodeFailure'
          error: |-
            The expression evaluated to a falsy value:
            
              assert.ok(currentResult.determinism.notes.some(n => n.includes('results match')))
            
          code: 'ERR_ASSERTION'
          name: 'AssertionError'
          expected: true
          actual: false
          operator: '=='
          stack: |-
            TestContext.<anonymous> (file:///C:/Users/sabou/verax/test/release/determinism-baseline.test.js:240:14)
            async Test.run (node:internal/test_runner/test:1054:7)
            async Suite.processPendingSubtests (node:internal/test_runner/test:744:7)
          ...
        # Subtest: should update reproducible flag for CONTROLLED_NON_DETERMINISTIC with differing runs
        ok 6 - should update reproducible flag for CONTROLLED_NON_DETERMINISTIC with differing runs
          ---
          duration_ms: 56.6684
          type: 'test'
          ...
        1..6
    not ok 3 - Run Comparison
      ---
      duration_ms: 184.387
      type: 'suite'
      location: 'C:\\Users\\sabou\\verax\\test\\release\\determinism-baseline.test.js:108:3'
      failureType: 'subtestsFailed'
      error: '1 subtest failed'
      code: 'ERR_TEST_FAILURE'
      ...
    # Subtest: Console Output Visibility
        # Subtest: should include determinism information in console summary
        ok 1 - should include determinism information in console summary
          ---
          duration_ms: 1.7373
          type: 'test'
          ...
        # Subtest: should show warning for NON_DETERMINISTIC runs
        ok 2 - should show warning for NON_DETERMINISTIC runs
          ---
          duration_ms: 0.6945
          type: 'test'
          ...
        # Subtest: should not show warning for DETERMINISTIC runs
        ok 3 - should not show warning for DETERMINISTIC runs
          ---
          duration_ms: 0.6546
          type: 'test'
          ...
        # Subtest: should show NONE when no factors detected
        ok 4 - should show NONE when no factors detected
          ---
          duration_ms: 0.506
          type: 'test'
          ...
        1..4
    ok 4 - Console Output Visibility
      ---
      duration_ms: 4.1829
      type: 'suite'
      ...
    # Subtest: Stable Ordering
        # Subtest: should ensure expectations are sorted deterministically
        ok 1 - should ensure expectations are sorted deterministically
          ---
          duration_ms: 1.17
          type: 'test'
          ...
        # Subtest: should ensure skipReasons are output in stable order
        ok 2 - should ensure skipReasons are output in stable order
          ---
          duration_ms: 1.1755
          type: 'test'
          ...
        1..2
    ok 5 - Stable Ordering
      ---
      duration_ms: 3.444
      type: 'suite'
      ...
    # Subtest: Integration
        # Subtest: should maintain determinism through full analysis lifecycle
        ok 1 - should maintain determinism through full analysis lifecycle
          ---
          duration_ms: 0.9579
          type: 'test'
          ...
        # Subtest: should maintain determinism data through JSON serialization
        ok 2 - should maintain determinism data through JSON serialization
          ---
          duration_ms: 0.9458
          type: 'test'
          ...
        1..2
    ok 6 - Integration
      ---
      duration_ms: 2.3029
      type: 'suite'
      ...
    1..6
not ok 65 - PHASE 4: Determinism & Reproducibility
  ---
  duration_ms: 214.6235
  type: 'suite'
  location: 'C:\\Users\\sabou\\verax\\test\\release\\determinism-baseline.test.js:8:1'
  failureType: 'subtestsFailed'
  error: '1 subtest failed'
  code: 'ERR_TEST_FAILURE'
  ...
# Subtest: Determinism - deterministic fixture run results should be DETERMINISTIC
ok 66 - Determinism - deterministic fixture run results should be DETERMINISTIC
  ---
  duration_ms: 11.308
  type: 'test'
  ...
# Subtest: Determinism - simulate nondeterminism: reorder findings
ok 67 - Determinism - simulate nondeterminism: reorder findings
  ---
  duration_ms: 31.8101
  type: 'test'
  ...
# Subtest: Determinism - simulate nondeterminism: random timestamp fields
ok 68 - Determinism - simulate nondeterminism: random timestamp fields
  ---
  duration_ms: 2.2366
  type: 'test'
  ...
# Subtest: Determinism - ensure normalization removes volatile diffs
ok 69 - Determinism - ensure normalization removes volatile diffs
  ---
  duration_ms: 0.8928
  type: 'test'
  ...
# Subtest: Determinism - ensure stable finding identity works
ok 70 - Determinism - ensure stable finding identity works
  ---
  duration_ms: 0.9126
  type: 'test'
  ...
# Subtest: Determinism - ensure diff report includes stable reason codes
ok 71 - Determinism - ensure diff report includes stable reason codes
  ---
  duration_ms: 0.5523
  type: 'test'
  ...
# Subtest: Determinism - deterministic output for the determinism checker itself
ok 72 - Determinism - deterministic output for the determinism checker itself
  ---
  duration_ms: 1.4031
  type: 'test'
  ...
# Subtest: Determinism - forced nondeterminism injection: NON_DETERMINISTIC with correct diff categories
ok 73 - Determinism - forced nondeterminism injection: NON_DETERMINISTIC with correct diff categories
  ---
  duration_ms: 1.617
  type: 'test'
  ...
# Subtest: Determinism - missing evidence dir should be normalized or flagged appropriately
ok 74 - Determinism - missing evidence dir should be normalized or flagged appropriately
  ---
  duration_ms: 1.2111
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - No adaptive events ÔåÆ DETERMINISTIC
ok 75 - Determinism Truth Lock - No adaptive events ÔåÆ DETERMINISTIC
  ---
  duration_ms: 3.1651
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - Adaptive stabilization extension ÔåÆ NON_DETERMINISTIC
ok 76 - Determinism Truth Lock - Adaptive stabilization extension ÔåÆ NON_DETERMINISTIC
  ---
  duration_ms: 0.8094
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - Retry triggered ÔåÆ NON_DETERMINISTIC
ok 77 - Determinism Truth Lock - Retry triggered ÔåÆ NON_DETERMINISTIC
  ---
  duration_ms: 0.5665
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - Truncation occurred ÔåÆ NON_DETERMINISTIC
ok 78 - Determinism Truth Lock - Truncation occurred ÔåÆ NON_DETERMINISTIC
  ---
  duration_ms: 0.3807
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - Multiple adaptive events ÔåÆ NON_DETERMINISTIC
ok 79 - Determinism Truth Lock - Multiple adaptive events ÔåÆ NON_DETERMINISTIC
  ---
  duration_ms: 0.4873
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - HARD RULE: adaptiveEvents.length > 0 ÔåÆ MUST be NON_DETERMINISTIC
ok 80 - Determinism Truth Lock - HARD RULE: adaptiveEvents.length > 0 ÔåÆ MUST be NON_DETERMINISTIC
  ---
  duration_ms: 0.551
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - Adaptive stabilization enabled but NOT extended ÔåÆ Still DETERMINISTIC
ok 81 - Determinism Truth Lock - Adaptive stabilization enabled but NOT extended ÔåÆ Still DETERMINISTIC
  ---
  duration_ms: 0.4344
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - Write determinism report with HARD verdict
ok 82 - Determinism Truth Lock - Write determinism report with HARD verdict
  ---
  duration_ms: 5.8075
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - Report from file (decisions.json)
ok 83 - Determinism Truth Lock - Report from file (decisions.json)
  ---
  duration_ms: 4.9321
  type: 'test'
  ...
# Subtest: Determinism Truth Lock - No DecisionRecorder ÔåÆ NON_DETERMINISTIC
ok 84 - Determinism Truth Lock - No DecisionRecorder ÔåÆ NON_DETERMINISTIC
  ---
  duration_ms: 6.5124
  type: 'test'
  ...
# Subtest: determinism: first learn produces consistent expectation IDs
ok 85 - determinism: first learn produces consistent expectation IDs
  ---
  duration_ms: 3.6089
  type: 'test'
  ...
# Subtest: determinism: expectations are deterministically ordered
ok 86 - determinism: expectations are deterministically ordered
  ---
  duration_ms: 0.6758
  type: 'test'
  ...
# Subtest: determinism: extracting twice produces identical ID sequence
ok 87 - determinism: extracting twice produces identical ID sequence
  ---
  duration_ms: 2.135
  type: 'test'
  ...
# Subtest: determinism: same expectation source produces same ID
ok 88 - determinism: same expectation source produces same ID
  ---
  duration_ms: 1.6307
  type: 'test'
  ...
# Subtest: determinism: different sources produce different IDs
ok 89 - determinism: different sources produce different IDs
  ---
  duration_ms: 0.9191
  type: 'test'
  ...
# Subtest: determinism: finding IDs are deterministic from expectation IDs
ok 90 - determinism: finding IDs are deterministic from expectation IDs
  ---
  duration_ms: 0.3857
  type: 'test'
  ...
# Subtest: determinism: expectations maintain order after multiple extractions
ok 91 - determinism: expectations maintain order after multiple extractions
  ---
  duration_ms: 4.2129
  type: 'test'
  ...
# Subtest: determinism: file path normalization handles backslashes
ok 92 - determinism: file path normalization handles backslashes
  ---
  duration_ms: 0.5189
  type: 'test'
  ...
# Subtest: Doctor Command Termination
    # Subtest: doctor --json exits within 5 seconds with fast smoke test
    ok 1 - doctor --json exits within 5 seconds with fast smoke test
      ---
      duration_ms: 1336.9295
      type: 'test'
      ...
    # Subtest: doctor (human mode) exits within 5 seconds with fast smoke test
    ok 2 - doctor (human mode) exits within 5 seconds with fast smoke test
      ---
      duration_ms: 1189.0289
      type: 'test'
      ...
    1..2
ok 93 - Doctor Command Termination
  ---
  duration_ms: 2529.0243
  type: 'suite'
  ...
# Subtest: Phase 6A: Formal Exit Code Verification
    # Subtest: Exit Code 0: COMPLETE + No Findings
        # Subtest: empty analysis with no expectations
        ok 1 - empty analysis with no expectations
          ---
          duration_ms: 2.003
          type: 'test'
          ...
        # Subtest: complete analysis with expectations but no findings
        ok 2 - complete analysis with expectations but no findings
          ---
          duration_ms: 0.3514
          type: 'test'
          ...
        # Subtest: all expectations analyzed, zero findings
        ok 3 - all expectations analyzed, zero findings
          ---
          duration_ms: 0.305
          type: 'test'
          ...
        1..3
    ok 1 - Exit Code 0: COMPLETE + No Findings
      ---
      duration_ms: 4.5376
      type: 'suite'
      ...
    # Subtest: Exit Code 1: COMPLETE + Findings Present
        # Subtest: complete analysis with findings
        ok 1 - complete analysis with findings
          ---
          duration_ms: 0.4093
          type: 'test'
          ...
        # Subtest: single finding detected
        ok 2 - single finding detected
          ---
          duration_ms: 0.4033
          type: 'test'
          ...
        # Subtest: many findings detected
        ok 3 - many findings detected
          ---
          duration_ms: 0.5786
          type: 'test'
          ...
        1..3
    ok 2 - Exit Code 1: COMPLETE + Findings Present
      ---
      duration_ms: 3.7891
      type: 'suite'
      ...
    # Subtest: Exit Code 2: FAILED State
        # Subtest: analysis failed with error
        ok 1 - analysis failed with error
          ---
          duration_ms: 0.6375
          type: 'test'
          ...
        # Subtest: contract violations present
        ok 2 - contract violations present
          ---
          duration_ms: 0.3144
          type: 'test'
          ...
        # Subtest: failed state overrides findings
        ok 3 - failed state overrides findings
          ---
          duration_ms: 0.5639
          type: 'test'
          ...
        1..3
    ok 3 - Exit Code 2: FAILED State
      ---
      duration_ms: 2.3578
      type: 'suite'
      ...
    # Subtest: Exit Code 66: INCOMPLETE State
        # Subtest: no expectations extracted
        ok 1 - no expectations extracted
          ---
          duration_ms: 0.8921
          type: 'test'
          ...
        # Subtest: budget exceeded
        ok 2 - budget exceeded
          ---
          duration_ms: 0.693
          type: 'test'
          ...
        # Subtest: observe timeout
        ok 3 - observe timeout
          ---
          duration_ms: 0.4609
          type: 'test'
          ...
        # Subtest: detect timeout
        ok 4 - detect timeout
          ---
          duration_ms: 0.6457
          type: 'test'
          ...
        # Subtest: total timeout
        ok 5 - total timeout
          ---
          duration_ms: 0.5094
          type: 'test'
          ...
        # Subtest: incomplete with findings still returns 66
        ok 6 - incomplete with findings still returns 66
          ---
          duration_ms: 0.3034
          type: 'test'
          ...
        # Subtest: incomplete overrides complete
        ok 7 - incomplete overrides complete
          ---
          duration_ms: 0.2839
          type: 'test'
          ...
        1..7
    ok 4 - Exit Code 66: INCOMPLETE State
      ---
      duration_ms: 4.393
      type: 'suite'
      ...
    # Subtest: State Precedence Rules
        # Subtest: FAILED takes precedence over INCOMPLETE
        ok 1 - FAILED takes precedence over INCOMPLETE
          ---
          duration_ms: 0.2219
          type: 'test'
          ...
        # Subtest: FAILED takes precedence over findings
        ok 2 - FAILED takes precedence over findings
          ---
          duration_ms: 0.1275
          type: 'test'
          ...
        # Subtest: INCOMPLETE takes precedence over findings
        ok 3 - INCOMPLETE takes precedence over findings
          ---
          duration_ms: 0.288
          type: 'test'
          ...
        1..3
    ok 5 - State Precedence Rules
      ---
      duration_ms: 0.7935
      type: 'suite'
      ...
    # Subtest: Edge Cases
        # Subtest: zero expectations discovered, complete
        ok 1 - zero expectations discovered, complete
          ---
          duration_ms: 0.1726
          type: 'test'
          ...
        # Subtest: partial skip but still complete
        ok 2 - partial skip but still complete
          ---
          duration_ms: 0.1003
          type: 'test'
          ...
        # Subtest: all expectations skipped = incomplete
        ok 3 - all expectations skipped = incomplete
          ---
          duration_ms: 0.1346
          type: 'test'
          ...
        1..3
    ok 6 - Edge Cases
      ---
      duration_ms: 0.5306
      type: 'suite'
      ...
    # Subtest: Integrity Violation Cases (Phase 6A)
        # Subtest: poisoned run = FAILED = exit 2
        ok 1 - poisoned run = FAILED = exit 2
          ---
          duration_ms: 0.1502
          type: 'test'
          ...
        # Subtest: integrity hash mismatch = FAILED = exit 2
        ok 2 - integrity hash mismatch = FAILED = exit 2
          ---
          duration_ms: 0.1008
          type: 'test'
          ...
        # Subtest: artifact write failure = FAILED = exit 2
        ok 3 - artifact write failure = FAILED = exit 2
          ---
          duration_ms: 0.0882
          type: 'test'
          ...
        1..3
    ok 7 - Integrity Violation Cases (Phase 6A)
      ---
      duration_ms: 0.4526
      type: 'suite'
      ...
    # Subtest: Property-Based: All Valid States
        # Subtest: exhaustive state-findings matrix
        ok 1 - exhaustive state-findings matrix
          ---
          duration_ms: 0.5413
          type: 'test'
          ...
        1..1
    ok 8 - Property-Based: All Valid States
      ---
      duration_ms: 0.6344
      type: 'suite'
      ...
    # Subtest: Determinism Impact on Exit Code
        # Subtest: determinism level does not affect exit code
        ok 1 - determinism level does not affect exit code
          ---
          duration_ms: 0.2696
          type: 'test'
          ...
        # Subtest: reproducible flag does not affect exit code
        ok 2 - reproducible flag does not affect exit code
          ---
          duration_ms: 0.1326
          type: 'test'
          ...
        1..2
    ok 9 - Determinism Impact on Exit Code
      ---
      duration_ms: 0.5188
      type: 'suite'
      ...
    1..9
ok 94 - Phase 6A: Formal Exit Code Verification
  ---
  duration_ms: 21.3859
  type: 'suite'
  ...
# Subtest: Final Gate: VERAX Installability & CLI
    # Subtest: npm pack creates valid tarball
    not ok 1 - npm pack creates valid tarball
      ---
      duration_ms: 17.5385
      type: 'test'
      location: 'C:\\Users\\sabou\\verax\\test\\release\\final-gate.test.js:82:3'
      failureType: 'testCodeFailure'
      error: 'spawn npm ENOENT'
      code: 'ENOENT'
      stack: |-
        ChildProcess._handle.onexit (node:internal/child_process:285:19)
        onErrorNT (node:internal/child_process:483:16)
        process.processTicksAndRejections (node:internal/process/task_queues:90:21)
      ...
    # Subtest: tarball installs in isolated directory
    not ok 2 - tarball installs in isolated directory
      ---
      duration_ms: 3.7092
      type: 'test'
      location: 'C:\\Users\\sabou\\verax\\test\\release\\final-gate.test.js:90:3'
      failureType: 'testCodeFailure'
      error: 'tarball should exist'
      code: 'ERR_ASSERTION'
      name: 'AssertionError'
      expected: true
      actual: false
      operator: '=='
      stack: |-
        TestContext.<anonymous> (file:///C:/Users/sabou/verax/test/release/final-gate.test.js:96:12)
        Test.runInAsyncScope (node:async_hooks:214:14)
        Test.run (node:internal/test_runner/test:1047:25)
        Suite.processPendingSubtests (node:internal/test_runner/test:744:18)
        Test.postRun (node:internal/test_runner/test:1173:19)
        Test.run (node:internal/test_runner/test:1101:12)
        process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        async Promise.all (index 0)
        async Suite.run (node:internal/test_runner/test:1442:7)
        async startSubtestAfterBootstrap (node:internal/test_runner/harness:296:3)
      ...
    # Subtest: installed CLI has correct surface
    not ok 3 - installed CLI has correct surface
      ---
      duration_ms: 1.4339
      type: 'test'
      location: 'C:\\Users\\sabou\\verax\\test\\release\\final-gate.test.js:109:3'
      failureType: 'testCodeFailure'
      error: 'CLI entry point should exist'
      code: 'ERR_ASSERTION'
      name: 'AssertionError'
      expected: true
      actual: false
      operator: '=='
      stack: |-
        TestContext.<anonymous> (file:///C:/Users/sabou/verax/test/release/final-gate.test.js:113:12)
        Test.runInAsyncScope (node:async_hooks:214:14)
        Test.run (node:internal/test_runner/test:1047:25)
        Suite.processPendingSubtests (node:internal/test_runner/test:744:18)
        Test.postRun (node:internal/test_runner/test:1173:19)
        Test.run (node:internal/test_runner/test:1101:12)
        process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        async Suite.processPendingSubtests (node:internal/test_runner/test:744:7)
      ...
    1..3
not ok 95 - Final Gate: VERAX Installability & CLI
  ---
  duration_ms: 26.1435
  type: 'suite'
  location: 'C:\\Users\\sabou\\verax\\test\\release\\final-gate.test.js:68:1'
  failureType: 'subtestsFailed'
  error: '3 subtests failed'
  code: 'ERR_TEST_FAILURE'
  ...
# Subtest: Phase 21.7: Release Integrity
    # Subtest: Provenance Builder
        # Subtest: should build provenance with all required fields
        ok 1 - should build provenance with all required fields
          ---
          duration_ms: 501.0021
          type: 'test'
          ...
        # Subtest: should write provenance to file
        ok 2 - should write provenance to file
          ---
          duration_ms: 425.4021
          type: 'test'
          ...
        1..2
    ok 1 - Provenance Builder
      ---
      duration_ms: 927.6851
      type: 'suite'
      ...
    # Subtest: SBOM Builder
        # Subtest: should build SBOM with CycloneDX format
        ok 1 - should build SBOM with CycloneDX format
          ---
          duration_ms: 1461.3956
          type: 'test'
          ...
        # Subtest: should include main package in SBOM
        ok 2 - should include main package in SBOM
          ---
          duration_ms: 1365.0936
          type: 'test'
          ...
        # Subtest: should write SBOM to file
        ok 3 - should write SBOM to file
          ---
          duration_ms: 1388.2946
          type: 'test'
          ...
        1..3
    ok 2 - SBOM Builder
      ---
      duration_ms: 4215.4495
      type: 'suite'
      ...
    # Subtest: Reproducibility Check
        # Subtest: should check reproducibility and generate report
        ok 1 - should check reproducibility and generate report
          ---
          duration_ms: 134.5087
          type: 'test'
          ...
        # Subtest: should write reproducibility report to file
        ok 2 - should write reproducibility report to file
          ---
          duration_ms: 122.5282
          type: 'test'
          ...
        1..2
    ok 3 - Reproducibility Check
      ---
      duration_ms: 257.7022
      type: 'suite'
      ...
    # Subtest: Release Enforcer
        # Subtest: should block release when provenance is missing
        ok 1 - should block release when provenance is missing
          ---
          duration_ms: 3.4651
          type: 'test'
          ...
        # Subtest: should block release when SBOM is missing
        ok 2 - should block release when SBOM is missing
          ---
          duration_ms: 414.824
          type: 'test'
          ...
        # Subtest: should block release when reproducibility report is missing
        ok 3 - should block release when reproducibility report is missing
          ---
          duration_ms: 1704.4122
          type: 'test'
          ...
        # Subtest: should block release when reproducibility is NON_REPRODUCIBLE
        ok 4 - should block release when reproducibility is NON_REPRODUCIBLE
          ---
          duration_ms: 1705.1033
          type: 'test'
          ...
        1..4
    ok 4 - Release Enforcer
      ---
      duration_ms: 3828.2711
      type: 'suite'
      ...
    1..4
ok 96 - Phase 21.7: Release Integrity
  ---
  duration_ms: 9230.5197
  type: 'suite'
  ...
# Subtest: Phase 6A: Semantic Determinism
    # Subtest: should compare identical summaries
    ok 1 - should compare identical summaries
      ---
      duration_ms: 6.8328
      type: 'test'
      ...
    # Subtest: should ignore timestamps in comparison
    ok 2 - should ignore timestamps in comparison
      ---
      duration_ms: 2.4555
      type: 'test'
      ...
    # Subtest: should ignore runId in comparison
    ok 3 - should ignore runId in comparison
      ---
      duration_ms: 4.612
      type: 'test'
      ...
    # Subtest: should ignore duration fields in comparison
    ok 4 - should ignore duration fields in comparison
      ---
      duration_ms: 2.5448
      type: 'test'
      ...
    # Subtest: should normalize paths in comparison
    ok 5 - should normalize paths in comparison
      ---
      duration_ms: 3.5624
      type: 'test'
      ...
    # Subtest: should detect semantic differences in findings
    ok 6 - should detect semantic differences in findings
      ---
      duration_ms: 2.5388
      type: 'test'
      ...
    # Subtest: should detect difference in findings count
    ok 7 - should detect difference in findings count
      ---
      duration_ms: 2.7807
      type: 'test'
      ...
    # Subtest: should normalize findings for comparison
    ok 8 - should normalize findings for comparison
      ---
      duration_ms: 23.8938
      type: 'test'
      ...
    # Subtest: should load and compare runs from disk
    ok 9 - should load and compare runs from disk
      ---
      duration_ms: 9.6154
      type: 'test'
      ...
    # Subtest: should handle comparison errors gracefully
    ok 10 - should handle comparison errors gracefully
      ---
      duration_ms: 5.3403
      type: 'test'
      ...
    # Subtest: should detect type mismatch
    ok 11 - should detect type mismatch
      ---
      duration_ms: 2.0182
      type: 'test'
      ...
    # Subtest: should detect missing fields
    ok 12 - should detect missing fields
      ---
      duration_ms: 2.1736
      type: 'test'
      ...
    # Subtest: should handle nested object comparison
    ok 13 - should handle nested object comparison
      ---
      duration_ms: 1.5114
      type: 'test'
      ...
    # Subtest: should handle array comparison
    ok 14 - should handle array comparison
      ---
      duration_ms: 1.4798
      type: 'test'
      ...
    # Subtest: should detect array length mismatch
    ok 15 - should detect array length mismatch
      ---
      duration_ms: 2.2264
      type: 'test'
      ...
    1..15
ok 97 - Phase 6A: Semantic Determinism
  ---
  duration_ms: 78.1891
  type: 'suite'
  ...
# Subtest: ZERO CONFIG | config-loader.js must not exist
ok 98 - ZERO CONFIG | config-loader.js must not exist
  ---
  duration_ms: 4.3224
  type: 'test'
  ...
# Subtest: ZERO CONFIG | no references to config loading in entry.js
ok 99 - ZERO CONFIG | no references to config loading in entry.js
  ---
  duration_ms: 0.8062
  type: 'test'
  ...
# Subtest: ZERO CONFIG | run command does not accept --config flags
ok 100 - ZERO CONFIG | run command does not accept --config flags
  ---
  duration_ms: 0.946
  type: 'test'
  ...
# Subtest: DETERMINISM | run-id generator does not use Date.now()
ok 101 - DETERMINISM | run-id generator does not use Date.now()
  ---
  duration_ms: 0.6543
  type: 'test'
  ...
# Subtest: DETERMINISM | run-id generator does not use Math.random()
ok 102 - DETERMINISM | run-id generator does not use Math.random()
  ---
  duration_ms: 0.9805
  type: 'test'
  ...
# Subtest: DETERMINISM | core run-id generator uses deterministic hash
ok 103 - DETERMINISM | core run-id generator uses deterministic hash
  ---
  duration_ms: 1.1219
  type: 'test'
  ...
# Subtest: DETERMINISM | safetyFlags.allowWrites hardcoded to false
ok 104 - DETERMINISM | safetyFlags.allowWrites hardcoded to false
  ---
  duration_ms: 0.9127
  type: 'test'
  ...
# Subtest: NO GUESSING | detect/ has no opinionated guessing functions
ok 105 - NO GUESSING | detect/ has no opinionated guessing functions
  ---
  duration_ms: 33.2183
  type: 'test'
  ...
# Subtest: NO GUESSING | observe/ has no opinionated guessing functions
ok 106 - NO GUESSING | observe/ has no opinionated guessing functions
  ---
  duration_ms: 15.062
  type: 'test'
  ...
# Subtest: NO GUESSING | cli/ has no opinionated guessing functions
ok 107 - NO GUESSING | cli/ has no opinionated guessing functions
  ---
  duration_ms: 25.3658
  type: 'test'
  ...
# Subtest: NO INTERACTIVE | inquirer import exists only in disabled default.js
ok 108 - NO INTERACTIVE | inquirer import exists only in disabled default.js
  ---
  duration_ms: 1.7208
  type: 'test'
  ...
# Subtest: NO INTERACTIVE | CLI entry.js rejects no-args with usage error
ok 109 - NO INTERACTIVE | CLI entry.js rejects no-args with usage error
  ---
  duration_ms: 1268.6583
  type: 'test'
  ...
# Subtest: NO INTERACTIVE | no interactive prompt logic in entry.js
ok 110 - NO INTERACTIVE | no interactive prompt logic in entry.js
  ---
  duration_ms: 0.5616
  type: 'test'
  ...
# Subtest: READ ONLY | no --allow-writes CLI flag exists
ok 111 - READ ONLY | no --allow-writes CLI flag exists
  ---
  duration_ms: 0.4383
  type: 'test'
  ...
# Subtest: READ ONLY | safety-observer blocks POST/PUT/PATCH/DELETE
ok 112 - READ ONLY | safety-observer blocks POST/PUT/PATCH/DELETE
  ---
  duration_ms: 0.5783
  type: 'test'
  ...
# Subtest: READ ONLY | safety-observer checks allowWrites
ok 113 - READ ONLY | safety-observer checks allowWrites
  ---
  duration_ms: 0.3658
  type: 'test'
  ...
# Subtest: READ ONLY | observe() enforces write blocking
ok 114 - READ ONLY | observe() enforces write blocking
  ---
  duration_ms: 0.498
  type: 'test'
  ...
# Subtest: GUARDRAILS | vision-enforcement.test.js exists as regression guard
ok 115 - GUARDRAILS | vision-enforcement.test.js exists as regression guard
  ---
  duration_ms: 0.3023
  type: 'test'
  ...
# Subtest: GUARDRAILS | vision-compliance.test.js exists as constitutional test
ok 116 - GUARDRAILS | vision-compliance.test.js exists as constitutional test
  ---
  duration_ms: 0.2386
  type: 'test'
  ...
# Subtest: GUARDRAILS | VISION.md documents core principles
ok 117 - GUARDRAILS | VISION.md documents core principles
  ---
  duration_ms: 0.7493
  type: 'test'
  ...
# Subtest: GUARDRAILS | no temporary artifacts in root directory
ok 118 - GUARDRAILS | no temporary artifacts in root directory
  ---
  duration_ms: 0.3719
  type: 'test'
  ...
# Subtest: config system is absent
ok 119 - config system is absent
  ---
  duration_ms: 2.3648
  type: 'test'
  ...
# Subtest: run IDs are deterministic
ok 120 - run IDs are deterministic
  ---
  duration_ms: 3.7204
  type: 'test'
  ...
# Subtest: interactive mode is disabled
ok 121 - interactive mode is disabled
  ---
  duration_ms: 1300.0056
  type: 'test'
  ...
1..121
# tests 227
# suites 29
# pass 222
# fail 5
# cancelled 0
# skipped 0
# todo 0
# duration_ms 10303.7717
